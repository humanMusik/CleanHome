{
  "formatVersion": 1,
  "database": {
    "version": 1,
    "identityHash": "aa6fd84e1a33670f9870f955d9ac46f1",
    "entities": [
      {
        "tableName": "RoomEntity",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `name` TEXT NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "name",
            "columnName": "name",
            "affinity": "TEXT",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        }
      },
      {
        "tableName": "ResidentEntity",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `name` TEXT NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "name",
            "columnName": "name",
            "affinity": "TEXT",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        }
      },
      {
        "tableName": "TaskEntity",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` TEXT NOT NULL, `name` TEXT NOT NULL, `roomId` INTEGER NOT NULL, `duration` TEXT NOT NULL, `frequency` TEXT NOT NULL, `scheduledDate` TEXT NOT NULL, `urgency` TEXT NOT NULL, `assigneeId` INTEGER, `state` TEXT NOT NULL, PRIMARY KEY(`id`), FOREIGN KEY(`roomId`) REFERENCES `RoomEntity`(`id`) ON UPDATE CASCADE ON DELETE CASCADE , FOREIGN KEY(`assigneeId`) REFERENCES `ResidentEntity`(`id`) ON UPDATE CASCADE ON DELETE SET NULL )",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "name",
            "columnName": "name",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "roomId",
            "columnName": "roomId",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "duration",
            "columnName": "duration",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "frequency",
            "columnName": "frequency",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "scheduledDate",
            "columnName": "scheduledDate",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "urgency",
            "columnName": "urgency",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "assigneeId",
            "columnName": "assigneeId",
            "affinity": "INTEGER"
          },
          {
            "fieldPath": "state",
            "columnName": "state",
            "affinity": "TEXT",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": false,
          "columnNames": [
            "id"
          ]
        },
        "foreignKeys": [
          {
            "table": "RoomEntity",
            "onDelete": "CASCADE",
            "onUpdate": "CASCADE",
            "columns": [
              "roomId"
            ],
            "referencedColumns": [
              "id"
            ]
          },
          {
            "table": "ResidentEntity",
            "onDelete": "SET NULL",
            "onUpdate": "CASCADE",
            "columns": [
              "assigneeId"
            ],
            "referencedColumns": [
              "id"
            ]
          }
        ]
      },
      {
        "tableName": "TaskLogEntity",
        "createSql": "CREATE TABLE IF NOT EXISTS `${TABLE_NAME}` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, `taskId` TEXT NOT NULL, `date` TEXT NOT NULL, `recordedAction` TEXT NOT NULL)",
        "fields": [
          {
            "fieldPath": "id",
            "columnName": "id",
            "affinity": "INTEGER",
            "notNull": true
          },
          {
            "fieldPath": "taskId",
            "columnName": "taskId",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "date",
            "columnName": "date",
            "affinity": "TEXT",
            "notNull": true
          },
          {
            "fieldPath": "recordedAction",
            "columnName": "recordedAction",
            "affinity": "TEXT",
            "notNull": true
          }
        ],
        "primaryKey": {
          "autoGenerate": true,
          "columnNames": [
            "id"
          ]
        }
      }
    ],
    "views": [
      {
        "viewName": "EnrichedTaskEntity",
        "createSql": "CREATE VIEW `${VIEW_NAME}` AS SELECT taskentity.id AS idValue,\n        taskentity.name AS taskName,\n        taskentity.duration AS duration,\n        taskentity.frequency AS frequency,\n        taskentity.scheduledDate AS scheduledDate,\n        taskentity.urgency AS urgency,\n        taskentity.state AS state,\n        roomentity.id AS roomIdInt,\n        roomentity.name AS roomName,\n        residententity.id AS assigneeIdInt,\n        residententity.name AS assigneeName\n        FROM taskentity\n        INNER JOIN roomentity on taskentity.roomId = roomentity.id\n        INNER JOIN residententity on taskentity.assigneeId = residententity.id"
      }
    ],
    "setupQueries": [
      "CREATE TABLE IF NOT EXISTS room_master_table (id INTEGER PRIMARY KEY,identity_hash TEXT)",
      "INSERT OR REPLACE INTO room_master_table (id,identity_hash) VALUES(42, 'aa6fd84e1a33670f9870f955d9ac46f1')"
    ]
  }
}